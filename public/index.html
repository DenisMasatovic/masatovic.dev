<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
    <title><%= htmlWebpackPlugin.options.title %></title>
    <script>
        window.addEventListener('load', () => {
            // Organizing assets with comments
            const assetsToPreload = {
                // Frost
                'Frost': ['images/coreAssets/images/frost.png'],

                // Icons
                'Icons': [
                    'images/coreAssets/icons/icon_code.png',
                    'images/coreAssets/icons/icon_layers.png',
                    'images/coreAssets/icons/icon_person.png',
                    'images/coreAssets/icons/icon_people.png',
                    'images/coreAssets/icons/icon_mail.png',
                    'images/coreAssets/icons/icon_link.png',
                ],

                // Personal Memoji
                'Personal Memoji': [
                    'images/coreAssets/images/landing_page_desktop_memoji.png',
                    'images/coreAssets/images/landing_page_tablet_memoji.png',
                    'images/coreAssets/images/landing_page_mobile_memoji.png',
                    'images/coreAssets/images/profileImage.png',
                    'images/coreAssets/images/memoji_head.png',
                ],

                // Tech Logos
                'Tech Logos': [
                    'images/coreAssets/techLogos/vueLogo.png',
                    'images/coreAssets/techLogos/jsLogo.png',
                    'images/coreAssets/techLogos/nodeJSLogo.png',
                    'images/coreAssets/techLogos/firebaseLogo.png',
                    'images/coreAssets/techLogos/angularLogo.png',
                    'images/coreAssets/techLogos/flutterLogo.png',
                    'images/coreAssets/techLogos/postgresSQLLogo.png',
                    'images/coreAssets/techLogos/springLogo.png',
                    'images/coreAssets/techLogos/redisLogo.png',
                    'images/coreAssets/techLogos/mongoDBLogo.png',
                    'images/coreAssets/techLogos/mySQLLogo.png',
                    'images/coreAssets/techLogos/electronLogo.png',
                    'images/coreAssets/techLogos/tsLogo.png',
                ],

                // Partner Memoji
                'Partner Memoji': [
                    'images/coreAssets/partners/bergerMemoji.png',
                    'images/coreAssets/partners/blaessMemoji.png'
                ],
            };

            // Preload assets
            Object.keys(assetsToPreload).forEach(category => {
                console.log(`Preloading ${category}...`);  // Optional: log category being preloaded
                assetsToPreload[category].forEach(assetPath => {
                    const linkEl = document.createElement('link');
                    linkEl.rel = 'preload';
                    linkEl.href = `https://firebasestorage.googleapis.com/v0/b/masatovic-dev.appspot.com/o/${encodeURIComponent(assetPath)}?alt=media`;
                    linkEl.as = 'image';
                    document.head.appendChild(linkEl);
                });
            });
        });
    </script>
</head>

<body>
    <noscript>
        <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
</body>

</html>
